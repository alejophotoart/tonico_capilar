var state_code_value='{{ old("state_id") }}';state_code_value&&""!=state_code_value&&changeStateType(state_code_value);var country_code_value='{{ old("country_id") }}';function changeCountryType(e){var t=localStorage.getItem("state_id");let o=document.getElementById("country_id").value;$.ajax({type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/optionCountry/state/"+e,data:null,success:function(e){if(e||(e=JSON.parse(e)),e){for(var n=0;n<e.country.length;n++)e.country[n].id==o&&$("#phonecode").val("+"+e.country[n].phonecode);$("#state_id").prop("disabled",!1),$("#state_id option").remove(),$("#city_id option").remove(),$("#city_id").append('<option value="0" selected disabled>Seleccione ciudad</option>');for(var a=0;a<e.d.states.length;a++)t&&""!=t&&e.d.states[a].id,$("#state_id").append('<option value="'+e.d.states[a].id+'">'+e.d.states[a].name+"</option>")}},error:function(e,t){alert("error")}})}function changeStateType(e){var t=localStorage.getItem("city_id");$.ajax({type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/optionState/city/"+e,data:null,success:function(e){if(e||(e=JSON.parse(e)),e){$("#city_id").prop("disabled",!1),$("#city_id").append('<option value="0" selected disabled>Municipio</option>'),$("#city_id option").remove();for(var o=0;o<e.d.cities.length;o++)t&&""!=t&&e.d.cities[o].id,$("#city_id").append('<option value="'+e.d.cities[o].id+'">'+e.d.cities[o].name+"</option>")}},error:function(e,t){alert("error")}})}function changeCity(e){localStorage.setItem("city_id",e)}function ShowCreateOrderModal(e){$("#phonecode").val(""),$.ajax({url:"/pedidos/"+e,type:"GET",contentType:"application/json",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),contentType:"application/json"},success:function(e){if(console.log(e),user=e[0],role_id=e[0].role,country=e[1],products=e[2],payment_type=e[3],e){$("#country_id option").remove(),$("#state_id option").remove(),$("#city_id option").remove(),$("#payment_type_id option").remove(),$("#product option").remove(),$(".product_copy option").remove(),$("#country_id").append('<option value="0" selected disabled>Seleccione Pais</option>'),$("#state_id").append('<option value="0" selected disabled>Seleccione departamento</option>'),$("#city_id").append('<option value="0" selected disabled>Seleccione ciudad</option>'),$("#payment_type_id").append('<option value="0" selected disabled>Seleccione tipo de pago</option>');for(var t=0;t<country.length;t++)$("#country_id").append('<option value="'+country[t].id+'">'+country[t].name+"</option>");for(t=0;t<payment_type.length;t++)$("#payment_type_id").append('<option value="'+payment_type[t].id+'">'+payment_type[t].name+"</option>");for(t=0;t<products.length;t++)$("#product").append('<option value="'+products[t].id+'">'+products[t].name+"</option>");for(t=0;t<products.length;t++)$(".product_copy").append('<option value="'+products[t].id+'">'+products[t].name+"</option>");$("#CreateOrderModal").modal("show"),$("#name_user").val(user.name),$("#role_id_user").val(role_id.name)}}})}country_code_value&&""!=country_code_value&&changeCountryType(country_code_value);