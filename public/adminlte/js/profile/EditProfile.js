function EditProfile(t,e){let o=document.getElementById("nombre").value,n=document.getElementById("telefono").value,a=document.getElementById("rol").value,i=document.getElementById("pais").value,r=document.getElementById("estado").value,l=document.getElementById("ciudad").value;if(0==o||""==o||0==n||""==n||0==a||""==a||0==i||""==i||0==r||""==r||0==l||""==l)return Swal.fire({icon:"info",title:"Campos vacios",text:"Existen campos vacios, por favor llenelos",confirmButtonColor:"#343a40",showConfirmButton:!0}),!1;Swal.fire({title:"Estas seguro?",text:"Deseas editar tu informacion "+e,icon:"question",showCancelButton:!0,confirmButtonColor:"#343a40",cancelButtonColor:"#d33",confirmButtonText:"Si, Editarlo!",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){let e,i={name:o,phone:n,role_id:a,city_id:l};Swal.fire({title:"Actualizando Perfil",didOpen:()=>{Swal.showLoading(),e=setInterval(()=>{const t=Swal.getHtmlContainer();if(t){const e=t.querySelector("b");e&&(e.textContent=Swal.getTimerLeft())}},100)}}),$.ajax({url:"/profile/"+t+"/update",type:"PUT",data:JSON.stringify(i),contentType:"application/json",dataType:"json",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){var e=t.d.role,o=t.d.id,n=t.name,a=document.getElementById("imgprofile");if(a=a.files[0],500==t.status)return Swal.fire({icon:t.icon,title:t.title,text:t.message,confirmButtonColor:"#343a40",showConfirmButton:!0}),!1;if(400==t.status)return Swal.fire({icon:t.icon,title:t.title,text:t.message,confirmButtonColor:"#343a40",showConfirmButton:!0}),!1;if(a)updateImageProfile(o,n);else{if(200!=t.status)return 100==t.status?(Swal.fire({icon:t.icon,title:t.title,text:t.message,confirmButtonColor:"#343a40"}),!1):(Swal.fire({icon:"error",title:"Ops...",text:"Ocurrio un error inesperado",confirmButtonColor:"#343a40"}),!1);Swal.fire({icon:t.icon,title:t.title,text:t.message+t.space+t.name,confirmButtonColor:"#343a40",showConfirmButton:!0}).then(t=>{var o="https://gdseclatam.com";t.value&&(1==e||2==e?$(location).attr("href", "/resumen"):3!=e&&4!=e||$(location).attr("href","/pedidos"))})}}})}})}function updateImageProfile(t,e){var o=document.getElementById("imgprofile");let n;if(o=o.files[0],Swal.fire({title:"Validando imagen de perfil",didOpen:()=>{Swal.showLoading(),n=setInterval(()=>{const t=Swal.getHtmlContainer();if(t){const e=t.querySelector("b");e&&(e.textContent=Swal.getTimerLeft())}},100)}}),o){var a=new FormData;a.append("id",t),a.append("name",e),a.append("image",o),$.ajax({type:"POST",dataType:"json",processData:!1,contentType:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:a,url:"/profile/updateImageProfile",success:function(t){if(200!=t.status)return 100==t.status?(Swal.fire({icon:t.icon,title:t.title,text:t.message,confirmButtonColor:"#343a40"}),!1):(Swal.fire({icon:"error",title:"Ops...",text:"Ocurrio un error inesperado",confirmButtonColor:"#343a40"}),!1);Swal.fire({icon:t.icon,title:t.title,text:t.message+t.space+t.name,confirmButtonColor:"#343a40",showConfirmButton:!0}).then(t=>{t.value&&$(location).attr("href","/resumen")})}})}else alert("No hay archivo.")}
